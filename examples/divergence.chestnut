parallel Integer mod(Integer2d data, Integer mod_val) {
  return data.center % mod_val;
}

parallel Integer by_index(Integer2d data) {
  return data.width*data.y + data.x;
}

parallel Real divergence(Integer2d data) {
  return data.right - data.left +
         data.top - data.bottom;
}

Real2d dataset[50, 20];
dataset = :by_index(dataset);
dataset = :mod(dataset, 20);
print(dataset);

Real2d derivative[50, 20];
derivative = :divergence(dataset);
print(derivative);
