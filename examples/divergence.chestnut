parallel Int mod(IntArray2d data, Int mod_val) {
  return data.center % mod_val;
}

parallel Int by_index(IntArray2d data) {
  return data.width*data.y + data.x;
}

parallel Real divergence(IntArray2d data) {
  return data.right - data.left +
         data.top - data.bottom;
}

RealArray2d dataset[50, 20];
dataset = :by_index(dataset);
dataset = :mod(dataset, 20);
print(dataset);

RealArray2d derivative[50, 20];
derivative = :divergence(dataset);
print(derivative);
